(()=>{"use strict";const e={center:[55.7,20.6],zoom:4,controls:[]};async function a(){return e}const t=[{name:"WARSAW",coords:[52.237049,21.017532],description:"warsaw_desc",contact_info:{phone:"+375 29 111 11 11",address:"City, Street, Building, Apartments"},imagesData:[{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"}]},{name:"MOSCOW",coords:[55.75222,37.61556],description:"moscow_desc",contact_info:{phone:"+375 29 111 11 11",address:"City, Street, Building, Apartments"},imagesData:[{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"}]},{name:"MILAN",coords:[45.464664,9.18854],description:"milan_desc",contact_info:{phone:"+375 29 111 11 11",address:"City, Street, Building, Apartments"},imagesData:[{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"}]},{name:"LONDON",coords:[51.50853,-.076132],description:"london_desc",contact_info:{phone:"+375 29 111 11 11",address:"City, Street, Building, Apartments"},imagesData:[{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"}]},{name:"PARIS",coords:[48.864716,2.349014],description:"paris_desc",contact_info:{phone:"+375 29 111 11 11",address:"City, Street, Building, Apartments"},imagesData:[{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"},{src:"assets/logo.png",alterName:"alter name"}]}];async function s(){return t}const n=[30,42],o=[-15,-40],l=(e,a)=>'<div class="slideshow-container">'+e.join("")+'<a id="prev-shop-img" class="prev">&#10094;</a><a id="next-shop-img" class="next">&#10095;</a>'+`<div style="text-align:center">${a.join("")}</div></div>`;function r(e,a,t){const s=[],r=[];return ymaps.ready((()=>{const c=new ymaps.Map("map",e);a.forEach(((e,a)=>{const t=function(e){const a=ymaps.templateLayoutFactory.createClass((e=>{const a=[];return a.push(void 0),a.push((({imagesData:e})=>{const a=e.map(((e,a,t)=>(({src:e,alterName:a},t,s)=>`<div class="mySlides fade"><div class="numbertext">${t} / ${s}</div><img src="${e}" alt="${a}" style="width:100%"><div class="text">${a}</div></div>`)(e,a,t.length))),t=e.reduce((e=>['<span class="dot"></span>',...e]),[]),s=l(a,t);return console.log(s),l(a,t)})(e)),a.push(void 0),a.push(void 0),a.join("")})(e),{build:function(){a.superclass.build.call(this),function(){let e=1;const a=a=>{t(e+=a)},t=a=>{const t=document.getElementsByClassName("mySlides"),s=document.getElementsByClassName("dot");a>t.length&&(e=1),a<1&&(e=t.length);for(let e=0;e<t.length;e++)t[e].style.display="none";for(let e=0;e<s.length;e++)s[e].className=s[e].className.replace(" active","");t[e-1].style.display="block",s[e-1].className+=" active"};t(e);const s=document.getElementsByClassName("dot");Array.from(s).forEach(((a,s)=>{a.addEventListener("click",(()=>{t(e=s+1)}))})),document.getElementById("prev-shop-img").addEventListener("click",(()=>{a(-1)})),document.getElementById("next-shop-img").addEventListener("click",(()=>{a(1)}))}()}});return new ymaps.Placemark(e.coords,{},{iconLayout:"default#image",iconImageHref:"assets/placemark.svg",iconImageSize:n,iconImageOffset:o,balloonContentLayout:a,balloonPanelMaxMapArea:0})}(e);s.push(t),c.geoObjects.add(t),r.push(new Option(e.name,a))})),t(s,r)})),s}const c="main-menu-select",i="Choose shop";(async function(){const[e,t]=await Promise.all([a(),s()]);r(e,t,((e,a)=>{const t=function(e,a){const t=document.getElementById(c);var s;return t.addEventListener("change",(s=e,()=>{const e=document.getElementById(c);s[e.value].events.fire("click")})),a.forEach((e=>{t.appendChild(e)})),t}(e,a);!function(e,a){const[t]=document.getElementsByClassName("clear");t.addEventListener("click",(()=>{a.filter((e=>e)).forEach((e=>{e.balloon.close()})),e.value=i}))}(t,e),((e,a)=>{a.forEach(((a,t)=>{a.balloon.events.add("open",(()=>{e.value=t})),a.balloon.events.add("close",(()=>{e.value=i}))}))})(t,e)}))})().catch((e=>{console.error("Can`t init app")}))})();